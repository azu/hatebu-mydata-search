{"version":3,"sources":["../src/hatebu-mydata-parser.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;eAC2B,OAAO,CAAC,uBAAuB,CAAC;;IAAnE,cAAc,YAAd,cAAc;IAAE,eAAe,YAAf,eAAe;;AACpC,IAAI,aAAa,GAAG;AAChB,SAAK,EAAE,QAAQ;AACf,WAAO,EAAE,QAAQ;AACjB,OAAG,EAAE,QAAQ;AACb,QAAI,EAAE,IAAI,IAAI,EAAE;CACnB,CAAC;;;;;;;;AAOK,SAAS,KAAK,CAAC,IAAI,EAAE;AACxB,QAAI,IAAI,IAAI,IAAI,EAAE;AACd,eAAO,EAAE,CAAC;KACb;AACD,QAAI,WAAW,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;AACxC,QAAI,WAAW,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AACtE,eAAO,EAAE,CAAC;KACb;AACD,WAAO,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,QAAQ,EAAE,KAAK,EAAE;AACpD,YAAI,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC;AACvB,YAAI,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,YAAI,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AAC1C,YAAI,OAAO,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAChD,YAAI,GAAG,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC5C,eAAO;AACH,iBAAK,EAAE,KAAK;AACZ,mBAAO,EAAE,OAAO;AAChB,eAAG,EAAE,GAAG;AACR,gBAAI,EAAE,cAAc,CAAC,SAAS,CAAC;SAClC,CAAA;KACJ,CAAC,CAAC;CACN","file":"hatebu-mydata-parser.js","sourcesContent":["\"use strict\";\nvar {dateFromString, parseLineByLine} = require(\"./hatebu-mydata-utils\");\nvar _myDataFormat = {\n    title: \"string\",\n    comment: \"string\",\n    url: \"string\",\n    date: new Date()\n};\n/**\n * search.dataについては`/doc/search.data-format.md`を参照\n *\n * @param {string} text\n * @returns {[_myDataFormat]}\n */\nexport function parse(text) {\n    if (text == null) {\n        return [];\n    }\n    var myDataTuple = parseLineByLine(text);\n    if (myDataTuple.bookmarks.length === 0 || myDataTuple.lines.length === 0) {\n        return [];\n    }\n    return myDataTuple.lines.map(function (metaInfo, index) {\n        var bIndex = index * 3;\n        var timestamp = metaInfo.split(\"\\t\", 2)[1];\n        var title = myDataTuple.bookmarks[bIndex];\n        var comment = myDataTuple.bookmarks[bIndex + 1];\n        var url = myDataTuple.bookmarks[bIndex + 2];\n        return {\n            title: title,\n            comment: comment,\n            url: url,\n            date: dateFromString(timestamp)\n        }\n    });\n}"]}